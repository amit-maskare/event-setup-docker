(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1273:(e,t,n)=>{Promise.resolve().then(n.bind(n,5064))},5064:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var l=n(5155),a=n(2115),i=n(810),o=n(2488),r=n(4500),s=n(6854),c=n(5417),d=n(4665),v=n(2479),h=n(2651),u=n(1068),x=n(9593),p=n(3535),g=n(1873),j=n(8416),A=n(6417),m=n(7753),y=n(5180),f=n(6214);let E=(0,a.memo)(e=>{let{open:t,setOpen:n,setLoading:i,setEvent:o}=e,[s,c]=(0,a.useState)({title:"",date:"",location:""}),[d,v]=(0,a.useState)({title:"",date:"",location:""}),x=e=>{let{name:t,value:n}=e.target;c(e=>({...e,[t]:n}))},p=async()=>{let e=!1,t={title:"",date:"",location:""};if(s.title||(t.title="Title is required.",e=!0),s.date||(t.date="Date is required.",e=!0),s.location||(t.location="Location is required.",e=!0),e){v(t);return}v(t),i(!0);try{let e=await h.A.post("".concat("http://localhost:3000/api/v1","/event"),s);o(t=>[...t,null==e?void 0:e.data]),u.oR.success("Event created successfully!")}catch(e){var l,a;u.oR.error("".concat((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.message)||"Error in creating event."))}finally{c({title:"",date:"",location:""}),i(!1),n(!1)}};return(0,l.jsx)("div",{children:(0,l.jsxs)(j.A,{open:t,onClose:()=>n(!1),children:[(0,l.jsx)(A.A,{align:"center",children:"Create New Event"}),(0,l.jsxs)(m.A,{children:[(0,l.jsx)(y.A,{autoFocus:!0,margin:"dense",label:"Event Title",fullWidth:!0,variant:"outlined",name:"title",value:s.title,onChange:x,error:!!d.title,helperText:d.title}),(0,l.jsx)(y.A,{margin:"dense",label:"Event Date",fullWidth:!0,variant:"outlined",name:"date",type:"date",value:s.date,onChange:x,InputLabelProps:{shrink:!0},error:!!d.date,helperText:d.date}),(0,l.jsx)(y.A,{margin:"dense",label:"Event Location",fullWidth:!0,variant:"outlined",name:"location",value:s.location,onChange:x,error:!!d.location,helperText:d.location})]}),(0,l.jsxs)(f.A,{children:[(0,l.jsx)(r.A,{onClick:()=>n(!1),color:"secondary",children:"Cancel"}),(0,l.jsx)(r.A,{onClick:p,color:"primary",children:"Submit"})]})]})})}),b=()=>{let[e,t]=(0,a.useState)(!1),[n,j]=(0,a.useState)([]),[A,m]=(0,a.useState)(!1),y=async()=>{t(!0);try{let e=await h.A.get("".concat("http://localhost:3000/api/v1","/events"));j((null==e?void 0:e.data)||[])}catch(t){var e,n;u.oR.error((null==t?void 0:null===(n=t.response)||void 0===n?void 0:null===(e=n.data)||void 0===e?void 0:e.message)||"Error to fetch list of events.")}finally{t(!1)}},f=async e=>{t(!0);try{await h.A.delete("".concat("http://localhost:3000/api/v1","/event/").concat(e)),j(t=>t.filter(t=>t.id!==e)),u.oR.success("Event removed successfully!")}catch(e){var n,l;u.oR.error((null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.message)||"Error in remove event.")}finally{t(!1)}};return(0,a.useEffect)(()=>{y()},[]),(0,l.jsxs)("div",{style:{padding:"20px"},children:[(0,l.jsx)(E,{open:A,setOpen:m,setLoading:t,setEvent:j}),(0,l.jsx)(i.A,{variant:"h4",gutterBottom:!0,align:"center",children:"Events"}),(0,l.jsx)(o.A,{position:"absolute",top:16,right:16,children:(0,l.jsx)(r.A,{onClick:()=>m(!0),variant:"contained",color:"primary",children:"New Event"})}),e&&(0,l.jsx)(o.A,{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,children:(0,l.jsx)(s.A,{})}),(0,l.jsx)(c.Ay,{container:!0,spacing:3,children:n.map(e=>(0,l.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,l.jsx)(d.A,{sx:{boxShadow:3},children:(0,l.jsxs)(v.A,{children:[(0,l.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1,children:[(0,l.jsx)(x.A,{style:{color:"green"}}),(0,l.jsx)(i.A,{variant:"h5",component:"div",children:e.title})]}),(0,l.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1,children:[(0,l.jsx)(p.A,{style:{color:"green"}}),(0,l.jsx)(i.A,{color:"text.secondary",children:e.date})]}),(0,l.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1,children:[(0,l.jsx)(g.A,{style:{color:"green"}}),(0,l.jsxs)(i.A,{color:"text.secondary",children:["Location: ",e.location]})]}),(0,l.jsx)(r.A,{onClick:()=>f(e.id),variant:"contained",color:"error",sx:{marginTop:2},children:"Remove Event"})]})})},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[687,181,441,517,358],()=>t(1273)),_N_E=e.O()}]);